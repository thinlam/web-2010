<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>20/10 ‚Äî L·ªùi ch√∫c d√†nh cho Em</title>
  <meta name="description" content="Thi·ªáp web 20/10 c·∫£m ƒë·ªông, tinh t·∫ø v√† chuy√™n nghi·ªáp. C√≥ s·∫µn tr√¨nh t·∫°o m√£ QR ƒë·ªÉ chia s·∫ª." />
  <meta property="og:title" content="20/10 ‚Äî L·ªùi ch√∫c d√†nh cho Em" />
  <meta property="og:description" content="Thi·ªáp web 20/10 c·∫£m ƒë·ªông, tinh t·∫ø v√† chuy√™n nghi·ªáp. C√≥ s·∫µn tr√¨nh t·∫°o m√£ QR ƒë·ªÉ chia s·∫ª." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#fb7185" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#fff1f2; --bg2:#ffe4e6; --primary:#e11d48; --accent:#fb7185; --ink:#0f172a; --muted:#475569;
      --card:#ffffffcc; --glass:rgba(255,255,255,.6); --ring: rgba(225,29,72,.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink); background:radial-gradient(1000px 600px at 20% 10%,var(--bg2),transparent),
      radial-gradient(1000px 700px at 80% 0%,#ffe7f1,transparent),
      linear-gradient(180deg,var(--bg1),#fff);
      overflow-x:hidden;
    }
    .grid{position:fixed;inset:0;pointer-events:none;background-image:linear-gradient(to right,rgba(15,23,42,.06) 1px,transparent 1px),linear-gradient(to bottom,rgba(15,23,42,.06) 1px,transparent 1px);background-size:28px 28px;mask-image:radial-gradient(80% 50% at 50% 40%,#000 60%,transparent)}
    .container{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{position:relative;max-width:880px;width:100%;border-radius:28px;padding:40px 28px;background:var(--glass);backdrop-filter:blur(12px);box-shadow:0 20px 60px rgba(15,23,42,.12);border:1px solid rgba(255,255,255,.5)}
    .tag{display:inline-flex;gap:8px;align-items:center;padding:8px 14px;border-radius:999px;background:#fff;box-shadow:0 6px 18px rgba(251,113,133,.25);border:1px solid rgba(251,113,133,.4);color:#9f1239;font-weight:600;letter-spacing:.02em}
    h1{font-family:"Playfair Display",serif;font-weight:700;line-height:1.1;margin:16px 0 8px;font-size: clamp(36px, 5vw, 60px);background:linear-gradient(180deg,#be123c,#f43f5e 40%,#fb7185);-webkit-background-clip:text;color:transparent}
    .lead{font-size:18px;color:var(--muted);max-width:58ch}
    .content{margin-top:18px;font-size:18px;line-height:1.75}
    .content p{margin:0 0 14px}
    .bullets{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin:10px 0 6px}
    .chip{padding:10px 14px;border-radius:14px;background:#fff;border:1px solid #ffe4e6;box-shadow:0 6px 20px rgba(244,63,94,.08);font-weight:600;color:#9f1239}
    .sig{margin-top:10px;color:#9f1239;font-weight:600}
    .actions{display:flex;flex-wrap:wrap;gap:12px;margin-top:22px}
    button,.ghost-btn, .linklike{appearance:none;border:none;padding:12px 16px;border-radius:12px;font-weight:700;cursor:pointer}
    .btn{background:linear-gradient(180deg,#f43f5e,#e11d48);color:#fff;box-shadow:0 10px 24px rgba(225,29,72,.28)}
    .ghost-btn{background:#fff;color:#9f1239;border:1px solid #fecdd3}
    .linklike{background:transparent;color:#9f1239;padding:0 4px}
    .muted{color:#64748b}
    .footer{margin-top:18px;font-size:14px;color:#64748b}

    /* Floating petals */
    .petal{position:fixed;top:-40px;width:16px;height:10px;background:radial-gradient(circle at 30% 30%,#fff 0 20%,#fecdd3 21% 100%);border-radius:60% 60% 60% 60%/100% 100% 40% 40%;opacity:.75;filter:drop-shadow(0 2px 4px rgba(244,63,94,.25));animation:fall linear forwards}
    @keyframes fall{to{transform:translate3d(var(--x,0),110vh,0) rotate(540deg)}}

    /* QR modal */
    dialog{border:none;border-radius:20px;max-width:720px;width:calc(100% - 32px);box-shadow:0 24px 60px rgba(15,23,42,.25);padding:0}
    .dialog-body{display:grid;grid-template-columns:1.1fr 1fr}
    @media (max-width:740px){.dialog-body{display:block}}
    .qr-left{padding:22px 22px 8px;background:linear-gradient(180deg,#fff,#fff5f6)}
    .qr-right{padding:22px}
    .qr-box{display:grid;place-items:center;min-height:260px;background:#fff;border:1px dashed #fecdd3;border-radius:16px}
    .input{width:100%;padding:12px 14px;border:1px solid #fecdd3;border-radius:12px;font-size:16px}
    .small{font-size:12px}
  </style>
</head>
<body>
  <div class="grid" aria-hidden="true"></div>
  <div class="container">
    <main class="card" role="main">
      <span class="tag">üå∏ 20/10 ‚Ä¢ Vietnamese Women's Day</span>
      <h1 id="title">G·ª≠i Em ‚Äî ng∆∞·ªùi l√†m th√°ng M∆∞·ªùi d·ªãu l·∫°i</h1>
      <p class="lead" id="lead">M·ªói ng√†y tr√¥i qua, Em ƒë·ªÅu √¢m th·∫ßm th√™m v√†o cu·ªôc ƒë·ªùi n√†y m·ªôt ch√∫t d·ªãu d√†ng. H√¥m nay, anh ch·ªâ mu·ªën n√≥i: Em x·ª©ng ƒë√°ng v·ªõi m·ªçi ƒëi·ªÅu ƒë·∫πp nh·∫•t.</p>
      <section class="content" id="content">
        <p>Em kh√¥ng c·∫ßn ph·∫£i m·∫°nh m·∫Ω m·ªçi l√∫c. H√£y cho ph√©p m√¨nh ch·∫≠m l·∫°i m·ªôt nh·ªãp ‚Äî ph·∫ßn c√≤n l·∫°i, ƒë·ªÉ anh lo. V√¨ <strong>t·ª´ b√¢y gi·ªù, h·∫°nh ph√∫c c·ªßa Em l√† ∆∞u ti√™n c·ªßa anh</strong>.</p>
        <div class="bullets">
          <div class="chip">Bi·∫øt ∆°n v√¨ Em lu√¥n t·ª≠ t·∫ø</div>
          <div class="chip">T·ª± h√†o v√¨ Em b·ªÅn b·ªâ</div>
          <div class="chip">Tr√¢n tr·ªçng √°nh m·∫Øt Em khi c∆∞·ªùi</div>
          <div class="chip">V√† c·∫£ nh·ªØng ng√†y Em th·∫•y m·ªát</div>
        </div>
        <p class="sig" id="sig">‚Äî T·ª´ anh, ng∆∞·ªùi lu√¥n ƒë·ª©ng v·ªÅ ph√≠a Em</p>
      </section>

      <div class="actions">
        <button class="btn" id="openQR">T·∫°o m√£ QR chia s·∫ª</button>
        <button class="ghost-btn" id="printBtn">In / L∆∞u PDF</button>
        <button class="ghost-btn" id="shareBtn">Chia s·∫ª‚Ä¶</button>
        <span class="muted small">Tu·ª≥ bi·∫øn b·∫±ng tham s·ªë URL: <span class="linklike">?to=Em&from=Anh&title=‚Ä¶&lead=‚Ä¶&msg=‚Ä¶</span></span>
      </div>
      <div class="footer">Made with ‚ô• ‚Ä¢ Thi·∫øt k·∫ø t·ªëi gi·∫£n, xem ƒë·∫πp tr√™n m·ªçi thi·∫øt b·ªã</div>
    </main>
  </div>

  <!-- QR Dialog -->
  <dialog id="qrModal">
    <div class="dialog-body">
      <div class="qr-left">
        <h3 style="margin:0 0 8px;font-family:'Playfair Display',serif">M√£ QR d·∫´n t·ªõi thi·ªáp n√†y</h3>
        <p class="muted" style="margin:0 0 14px">Nh·∫≠p ƒë∆∞·ªùng d·∫´n b·∫°n s·∫Ω d√πng sau khi up file (VD: GitHub Pages/Vercel). B·∫•m ‚ÄúT·∫°o QR‚Äù.</p>
        <input id="qrUrl" class="input" placeholder="https://your-domain/2010.html"/>
        <div style="display:flex;gap:10px;margin:12px 0 8px">
          <button class="btn" id="makeQR">T·∫°o QR</button>
          <button class="ghost-btn" id="downloadQR">T·∫£i PNG</button>
          <button class="ghost-btn" id="closeQR">ƒê√≥ng</button>
        </div>
        <p class="small muted">Tip: Sau khi deploy, m·ªü ƒë√∫ng URL thi·ªáp r·ªìi b·∫•m ‚ÄúT·∫°o QR t·ª´ URL hi·ªán t·∫°i‚Äù.</p>
        <button class="linklike" id="useCurrent">T·∫°o QR t·ª´ URL hi·ªán t·∫°i</button>
      </div>
      <div class="qr-right">
        <div id="qrBox" class="qr-box"><span class="muted">QR s·∫Ω hi·ªán ·ªü ƒë√¢y</span></div>
      </div>
    </div>
  </dialog>

  <!-- QRCode lib -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" integrity="sha512-J7mI1+6QdH/9QJHk8JmKuvQNPQcmXdKQ0mQ4lAI1mJ0sk6qB9+6Y9w9m9F4y8c4+N4j0g1C4U0ZrJkCwQ8W9Gw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    // --- Petals ---
    const rand=(a,b)=>Math.random()*(b-a)+a;
    for(let i=0;i<40;i++){
      const p=document.createElement('div');
      p.className='petal';
      p.style.left=rand(0,100)+'vw';
      p.style.setProperty('--x', rand(-60,60)+'vw');
      p.style.animationDuration=rand(8,18)+'s';
      p.style.animationDelay=rand(-10,4)+'s';
      document.body.appendChild(p);
    }

    // --- Personalization by URL params ---
    const params=new URLSearchParams(location.search);
    const el=(id)=>document.getElementById(id);
    const set=(id,text)=>{ if(text) document.getElementById(id).textContent=text; };
    const htmlSet=(id,html)=>{ if(html) document.getElementById(id).innerHTML=html; };

    const to=params.get('to');
    const from=params.get('from');
    const title=params.get('title');
    const lead=params.get('lead');
    const msg=params.get('msg');

    if(title) set('title', title);
    if(lead) set('lead', lead);
    if(msg) htmlSet('content', msg.replaceAll('\n','<br/>'));
    if(to||from){
      const sign = `‚Äî ${from||'T·ª´ anh'}, ng∆∞·ªùi lu√¥n ƒë·ª©ng v·ªÅ ph√≠a ${to||'Em'}`;
      set('sig', sign);
    }

    // --- QR Modal logic ---
    const modal=el('qrModal');
    const openQR=el('openQR');
    const closeQR=el('closeQR');
    const makeQR=el('makeQR');
    const downloadQR=el('downloadQR');
    const qrBox=el('qrBox');
    const qrUrl=el('qrUrl');
    const useCurrent=el('useCurrent');
    let qrInstance=null;

    openQR.addEventListener('click',()=>{ modal.showModal(); });
    closeQR.addEventListener('click',()=>{ modal.close(); });
    useCurrent.addEventListener('click',()=>{ qrUrl.value=location.href; makeQR.click(); });

    makeQR.addEventListener('click',()=>{
      const url=qrUrl.value.trim();
      if(!url){ alert('Nh·∫≠p URL h·ª£p l·ªá tr∆∞·ªõc ƒë√£ nh√©!'); return; }
      qrBox.innerHTML='';
      qrInstance=new QRCode(qrBox, { text:url, width:288, height:288, correctLevel: QRCode.CorrectLevel.H });
    });

    downloadQR.addEventListener('click',()=>{
      const img=qrBox.querySelector('img')||qrBox.querySelector('canvas');
      if(!img){ alert('Ch∆∞a c√≥ QR ƒë·ªÉ t·∫£i. B·∫•m "T·∫°o QR" tr∆∞·ªõc nh√©!'); return; }
      const link=document.createElement('a');
      link.download='QR-2010.png';
      link.href=img.src || img.toDataURL('image/png');
      link.click();
    });

    // --- Share and print ---
    el('printBtn').addEventListener('click',()=>window.print());
    el('shareBtn').addEventListener('click',async()=>{
      try{
        if(navigator.share){
          await navigator.share({title:document.title, text:'Thi·ªáp 20/10 d√†nh ri√™ng cho b·∫°n', url:location.href});
        }else{
          await navigator.clipboard.writeText(location.href);
          alert('ƒê√£ copy link v√†o clipboard!');
        }
      }catch{ /* ignored */ }
    });
  </script>
</body>
</html>